function updatePreview(e){var t=e.target.id,e=e.target.value,t=document.getElementById("preview-"+t);t&&(t.querySelector("p").innerHTML=e)}function insertTag(e){var t,n,d,a,i=document.querySelector("textarea:focus");i&&(t=i.selectionStart,a=i.selectionEnd,d=(n=i.value).substring(0,t),a=n.substring(a,n.length),i.value=d+e+a,i.selectionStart=i.selectionEnd=t+e.length/2,i.focus(),updatePreview({target:i}))}var inputs=document.querySelectorAll("input, textarea"),uploadedPhoto=(inputs.forEach(function(e){e.addEventListener("input",updatePreview)}),document.querySelector(".btn-bold").addEventListener("click",function(){return insertTag("<b></b>")}),document.querySelector(".btn-strike-through").addEventListener("click",function(){return insertTag("<s></s>")}),document.querySelector(".btn-underline").addEventListener("click",function(){return insertTag("<u></u>")}),document.querySelector(".btn-list").addEventListener("click",function(){return insertTag("<ul><li></li></ul>")}),document.querySelector(".btn-ordered-list").addEventListener("click",function(){return insertTag("<ol><li></li></ol>")}),null);function getParameterByName(e){return new URLSearchParams(window.location.search).get(e)}document.getElementById("photo-upload").addEventListener("change",function(e){var t,e=e.target.files[0];e&&(uploadedPhoto=e,(t=new FileReader).onload=function(e){document.getElementById("preview-photo").innerHTML='<img src="'.concat(e.target.result,'" alt="Photo" style="max-width: 150px; max-height: 150px; margin-bottom: 20px; border-radius: 50%; overflow: hidden;">')},t.readAsDataURL(e))}),document.addEventListener("DOMContentLoaded",function(){var e=localStorage.getItem("selectTemplate");if(e){var t=document.querySelector(".cv-preview");switch(e){case"cv-classic":t.classList.add("cv-classic-style");var n=document.getElementById("preview-first-name"),d=document.getElementById("preview-last-name"),a=document.getElementById("preview-job-title"),i=document.createElement("div"),r=(i.classList.add("personal-info-boxes"),a&&n&&d&&(i.appendChild(a),i.appendChild(n),i.appendChild(d),t.prepend(i)),document.createElement("div")),a=(r.classList.add("personal-data-boxes"),[{id:"preview-email",icon:"fa-envelope"},{id:"preview-phone",icon:"fa-phone"},{id:"preview-city",icon:"fa-city"},{id:"preview-postal-code",icon:"fa-map-marker-alt"}].forEach(function(e){var t,n=document.getElementById(e.id);n&&((t=document.createElement("i")).classList.add("fa",e.icon),n.classList.add("personal-data-box"),n.prepend(t),r.appendChild(n))}),document.getElementById("preview-summary")),n=(a&&a.insertAdjacentElement("afterend",r),document.createElement("div")),c=(n.classList.add("main-box"),document.createElement("div")),o=(c.classList.add("main-box-left"),["preview-summary","preview-education","preview-skills","preview-courses"].forEach(function(e){e=document.getElementById(e);e&&c.appendChild(e)}),n.appendChild(c),document.createElement("div"));o.classList.add("main-box-right");["preview-languages","preview-hobbies"].forEach(function(e){e=document.getElementById(e);e&&o.appendChild(e)}),n.appendChild(o),t.appendChild(n);break;case"cv-modern":t.classList.add("cv-modern-style");var l=document.createElement("div");l.classList.add("photos-section");for(var s=1;s<=4;s++){var p=document.createElement("img");p.src="./dist/img/".concat(s,".png"),p.classList.add("photo-".concat(s)),p.classList.add("photo"),p.alt="ZdjÄ™cie ".concat(s),l.appendChild(p)}t.prepend(l);var d=document.createElement("div"),i=(d.classList.add("personal-info-boxes-modern"),document.getElementById("preview-first-name")),a=document.getElementById("preview-last-name"),n=document.getElementById("preview-job-title"),m=(n&&i&&a&&(d.appendChild(n),d.appendChild(i),d.appendChild(a),t.prepend(d)),document.createElement("div")),n=(m.classList.add("personal-data-boxes-modern"),[{id:"preview-email",icon:"fa-envelope"},{id:"preview-phone",icon:"fa-phone"},{id:"preview-city",icon:"fa-city"},{id:"preview-postal-code",icon:"fa-map-marker-alt"}].forEach(function(e){var t,n=document.getElementById(e.id);n&&((t=document.createElement("i")).classList.add("fa",e.icon),n.classList.add("personal-data-box-modern"),n.prepend(t),m.appendChild(n))}),document.getElementById("preview-summary")),i=(n&&n.insertAdjacentElement("afterend",m),document.createElement("div")),u=(i.classList.add("main-box-modern"),document.createElement("div")),v=(u.classList.add("main-box-left-modern"),["preview-summary","preview-education","preview-skills","preview-courses"].forEach(function(e){e=document.getElementById(e);e&&u.appendChild(e)}),i.appendChild(u),document.createElement("div"));v.classList.add("main-box-right-modern");["preview-languages","preview-hobbies"].forEach(function(e){e=document.getElementById(e);e&&v.appendChild(e)}),i.appendChild(v),t.appendChild(i);break;case"cv-creative":t.classList.add("cv-creative-style");var a=document.createElement("div"),d=(a.classList.add("personal-info-creative"),document.getElementById("preview-first-name")),n=document.getElementById("preview-last-name"),i=document.getElementById("preview-job-title"),h=(i&&d&&n&&(a.appendChild(i),a.appendChild(d),a.appendChild(n)),document.createElement("div")),E=(h.classList.add("personal-data-box-creative"),[{id:"preview-email",icon:"fa-envelope"},{id:"preview-phone",icon:"fa-phone"},{id:"preview-city",icon:"fa-city"},{id:"preview-postal-code",icon:"fa-map-marker-alt"}].forEach(function(e){var t,n=document.getElementById(e.id);n&&((t=document.createElement("i")).classList.add("fa",e.icon),n.classList.add("personal-data-box-creative-item"),n.prepend(t),h.appendChild(n))}),document.createElement("div")),f=(E.classList.add("main-box-left-creative"),E.appendChild(a),["preview-summary","preview-education","preview-skills"].forEach(function(e){e=document.getElementById(e);e&&E.appendChild(e)}),document.createElement("div"));f.classList.add("main-box-right-creative"),f.appendChild(h);["preview-courses","preview-languages","preview-hobbies"].forEach(function(e){e=document.getElementById(e);e&&f.appendChild(e)}),t.appendChild(E),t.appendChild(f)}}});
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNlY29uZHN0ZXAuanMiXSwibmFtZXMiOlsidXBkYXRlUHJldmlldyIsImV2ZW50IiwiaW5wdXRJZCIsInRhcmdldCIsImlkIiwiaW5wdXRWYWx1ZSIsInZhbHVlIiwiZ2V0RWxlbWVudEJ5SWQiLCJwcmV2aWV3RWxlbWVudCIsImlubmVySFRNTCIsImluc2VydFRhZyIsInRhZyIsInRleHRhcmVhIiwiZW5kIiwidGV4dCIsImJlZm9yZSIsInF1ZXJ5U2VsZWN0b3IiLCJzZWxlY3Rpb25TdGFydCIsInN0YXJ0Iiwic2VsZWN0aW9uRW5kIiwic3Vic3RyaW5nIiwibGVuZ3RoIiwiYWZ0ZXIiLCJmb2N1cyIsImlucHV0cyIsImRvY3VtZW50IiwicXVlcnlTZWxlY3RvckFsbCIsInVwbG9hZGVkUGhvdG8iLCJmb3JFYWNoIiwiaW5wdXQiLCJhZGRFdmVudExpc3RlbmVyIiwiZ2V0UGFyYW1ldGVyQnlOYW1lIiwibmFtZSIsIndpbmRvdyIsImxvY2F0aW9uIiwic2VhcmNoIiwiZ2V0IiwiVVJMU2VhcmNoUGFyYW1zIiwiZmlsZSIsImZpbGVzIiwicmVhZGVyIiwiRmlsZVJlYWRlciIsInByZXZpZXdQaG90byIsInJlc3VsdCIsInJlYWRBc0RhdGFVUkwiLCJzZWxlY3RlZFRlbXBsYXRlIiwibG9jYWxTdG9yYWdlIiwiZ2V0SXRlbSIsImN2UHJldmlld0VsZW1lbnQiLCJjbGFzc0xpc3QiLCJhZGQiLCJmaXJzdE5hbWUiLCJsYXN0TmFtZSIsImpvYlRpdGxlIiwicGVyc29uYWxJbmZvQm94ZXMiLCJjcmVhdGVFbGVtZW50IiwicGVyc29uYWxEYXRhQm94IiwiYXBwZW5kQ2hpbGQiLCJwcmVwZW5kIiwicHJldmlld1N1bW1hcnkiLCJpY29uIiwic2VjdGlvbiIsImljb25FbGVtZW50Iiwic2VjdGlvbkVsZW1lbnQiLCJtYWluQm94IiwiaW5zZXJ0QWRqYWNlbnRFbGVtZW50IiwibWFpbkJveExlZnQiLCJtYWluQm94UmlnaHQiLCJzZWN0aW9uc1JpZ2h0IiwicGhvdG9zU2VjdGlvbiIsInBob3RvIiwiY29uY2F0IiwiaSIsImFsdCIsInBlcnNvbmFsSW5mb0JveGVzTW9kZXJuIiwiZmlyc3ROYW1lTW9kZXJuIiwibGFzdE5hbWVNb2Rlcm4iLCJqb2JUaXRsZU1vZGVybiIsInBlcnNvbmFsRGF0YUJveE1vZGVybiIsInByZXZpZXdTdW1tYXJ5TW9kZXJuIiwibWFpbkJveE1vZGVybiIsIm1haW5Cb3hMZWZ0TW9kZXJuIiwicGVyc29uYWxJbmZvQ3JlYXRpdmUiLCJtYWluQm94UmlnaHRNb2Rlcm4iLCJmaXJzdE5hbWVDcmVhdGl2ZSIsInBlcnNvbmFsRGF0YUJveENyZWF0aXZlIiwic2VjdGlvbnNDcmVhdGl2ZSIsImxhc3ROYW1lQ3JlYXRpdmUiLCJtYWluQm94TGVmdENyZWF0aXZlIiwic2VjdGlvbnNMZWZ0Q3JlYXRpdmUiLCJtYWluQm94UmlnaHRDcmVhdGl2ZSIsInNlY3Rpb25zUmlnaHRDcmVhdGl2ZSJdLCJtYXBwaW5ncyI6IkFBQ0EsU0FBU0EsY0FBY0MsR0FEdkIsSUFBQUMsRUFBQUQsRUFBQUUsT0FBQUMsR0FDQUMsRUFBU0wsRUFBY0MsT0FBT0ssTUFDdkJKLEVBQWdCQyxTQUFTSSxlQUFBLFdBQUFMLENBQUEsRUFFL0JNLElBRUFBLEVBQUlBLGNBQWdCLEdBQUEsRUFBQUMsVUFBQUosRUFHckIsQ0FFQSxTQUFBSyxVQUFBQyxHQUNBLElBRUtDLEVBRUdDLEVBQ0FDLEVBQ0FDLEVBTlJILEVBQWtCRixTQUFNTSxjQUFBLGdCQUFBLEVBQ3ZCSixJQUNJQSxFQUFVQSxFQUFBSyxlQUNQQyxFQUFLTixFQUFHQSxhQUVSRSxHQURBRCxFQUFNRCxFQUFTTyxPQUNSUCxVQUFjLEVBQUFNLENBQUEsRUFDckJILEVBQU1ELEVBQU9NLFVBQVVQLEVBQUlLLEVBQU1HLE1BQUEsRUFFdkNULEVBRE1VLE1BQVFSLEVBQUtNLEVBQWFFLEVBRWhDVixFQURBQSxlQUF1QkEsRUFBU1UsYUFBS0osRUFBQVAsRUFBQVUsT0FBQSxFQUVyQ1QsRUFEQUEsTUFBU0ssRUFFVGpC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Q0FBQyxFQUdEZixFQUFpQlMsWUFBWStCLENBQW1CLEVBQ2hEeEMsRUFBaUJTLFlBQVlpQyxDQUFvQixDQUduRCxDQUNELENBQ0QsQ0FBQyIsImZpbGUiOiJzZWNvbmRzdGVwLm1pbi5qcyIsInNvdXJjZXNDb250ZW50IjpbIi8vIEZ1bmN0aW9uIHRvIHVwZGF0ZSB0aGUgQ1YgcHJldmlldyBpbiByZWFsLXRpbWVcclxuZnVuY3Rpb24gdXBkYXRlUHJldmlldyhldmVudCkge1xyXG5cdGNvbnN0IGlucHV0SWQgPSBldmVudC50YXJnZXQuaWQ7XHJcblx0Y29uc3QgaW5wdXRWYWx1ZSA9IGV2ZW50LnRhcmdldC52YWx1ZTtcclxuXHRjb25zdCBwcmV2aWV3RWxlbWVudCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdwcmV2aWV3LScgKyBpbnB1dElkKTtcclxuXHJcblx0aWYgKHByZXZpZXdFbGVtZW50KSB7XHJcblx0XHRwcmV2aWV3RWxlbWVudC5xdWVyeVNlbGVjdG9yKCdwJykuaW5uZXJIVE1MID0gaW5wdXRWYWx1ZTtcclxuXHR9XHJcbn1cclxuXHJcbi8vIEZ1bmN0aW9uIHRvIGluc2VydCBIVE1MIHRhZ3MgYXQgdGhlIGN1cnNvciBwb3NpdGlvbiBpbiB0aGUgdGV4dGFyZWFcclxuZnVuY3Rpb24gaW5zZXJ0VGFnKHRhZykge1xyXG5cdGNvbnN0IHRleHRhcmVhID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcigndGV4dGFyZWE6Zm9jdXMnKTtcclxuXHRpZiAodGV4dGFyZWEpIHtcclxuXHRcdGNvbnN0IHN0YXJ0ID0gdGV4dGFyZWEuc2VsZWN0aW9uU3RhcnQ7XHJcblx0XHRjb25zdCBlbmQgPSB0ZXh0YXJlYS5zZWxlY3Rpb25FbmQ7XHJcblx0XHRjb25zdCB0ZXh0ID0gdGV4dGFyZWEudmFsdWU7XHJcblx0XHRjb25zdCBiZWZvcmUgPSB0ZXh0LnN1YnN0cmluZygwLCBzdGFydCk7XHJcblx0XHRjb25zdCBhZnRlciA9IHRleHQuc3Vic3RyaW5nKGVuZCwgdGV4dC5sZW5ndGgpO1xyXG5cdFx0dGV4dGFyZWEudmFsdWUgPSBiZWZvcmUgKyB0YWcgKyBhZnRlcjtcclxuXHRcdHRleHRhcmVhLnNlbGVjdGlvblN0YXJ0ID0gdGV4dGFyZWEuc2VsZWN0aW9uRW5kID0gc3RhcnQgKyB0YWcubGVuZ3RoIC8gMjtcclxuXHRcdHRleHRhcmVhLmZvY3VzKCk7XHJcblx0XHR1cGRhdGVQcmV2aWV3KHsgdGFyZ2V0OiB0ZXh0YXJlYSB9KTsgLy8gVXBkYXRlIHByZXZpZXcgYWZ0ZXIgaW5zZXJ0aW5nIHRhZ1xyXG5cdH1cclxufVxyXG5cclxuLy8gQXR0YWNoIGV2ZW50IGxpc3RlbmVycyB0byBhbGwgaW5wdXQgYW5kIHRleHRhcmVhIGVsZW1lbnRzXHJcbmNvbnN0IGlucHV0cyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJ2lucHV0LCB0ZXh0YXJlYScpO1xyXG5pbnB1dHMuZm9yRWFjaCgoaW5wdXQpID0+IHtcclxuXHRpbnB1dC5hZGRFdmVudExpc3RlbmVyKCdpbnB1dCcsIHVwZGF0ZVByZXZpZXcpO1xyXG59KTtcclxuXHJcbi8vIEF0dGFjaCBldmVudCBsaXN0ZW5lcnMgdG8gZm9ybWF0dGluZyBidXR0b25zXHJcbmRvY3VtZW50XHJcblx0LnF1ZXJ5U2VsZWN0b3IoJy5idG4tYm9sZCcpXHJcblx0LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4gaW5zZXJ0VGFnKCc8Yj48L2I+JykpO1xyXG5kb2N1bWVudFxyXG5cdC5xdWVyeVNlbGVjdG9yKCcuYnRuLXN0cmlrZS10aHJvdWdoJylcclxuXHQuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiBpbnNlcnRUYWcoJzxzPjwvcz4nKSk7XHJcbmRvY3VtZW50XHJcblx0LnF1ZXJ5U2VsZWN0b3IoJy5idG4tdW5kZXJsaW5lJylcclxuXHQuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiBpbnNlcnRUYWcoJzx1PjwvdT4nKSk7XHJcbmRvY3VtZW50XHJcblx0LnF1ZXJ5U2VsZWN0b3IoJy5idG4tbGlzdCcpXHJcblx0LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4gaW5zZXJ0VGFnKCc8dWw+PGxpPjwvbGk+PC91bD4nKSk7XHJcbmRvY3VtZW50XHJcblx0LnF1ZXJ5U2VsZWN0b3IoJy5idG4tb3JkZXJlZC1saXN0JylcclxuXHQuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiBpbnNlcnRUYWcoJzxvbD48bGk+PC9saT48L29sPicpKTtcclxuXHJcbi8vIEhhbmRsZSBpbWFnZSB1cGxvYWRcclxubGV0IHVwbG9hZGVkUGhvdG8gPSBudWxsOyAvLyBabWllbm5hIGRvIHByemVjaG93eXdhbmlhIHBsaWt1IHpkasSZY2lhXHJcbmRvY3VtZW50XHJcblx0LmdldEVsZW1lbnRCeUlkKCdwaG90by11cGxvYWQnKVxyXG5cdC5hZGRFdmVudExpc3RlbmVyKCdjaGFuZ2UnLCBmdW5jdGlvbiAoZXZlbnQpIHtcclxuXHRcdGNvbnN0IGZpbGUgPSBldmVudC50YXJnZXQuZmlsZXNbMF07XHJcblx0XHRpZiAoZmlsZSkge1xyXG5cdFx0XHR1cGxvYWRlZFBob3RvID0gZmlsZTsgLy8gUHJ6ZWNob3dhaiBwcnplc8WCYW5lIHpkasSZY2llXHJcblx0XHRcdGNvbnN0IHJlYWRlciA9IG5ldyBGaWxlUmVhZGVyKCk7XHJcblx0XHRcdHJlYWRlci5vbmxvYWQgPSBmdW5jdGlvbiAoZSkge1xyXG5cdFx0XHRcdGNvbnN0IHByZXZpZXdQaG90byA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdwcmV2aWV3LXBob3RvJyk7XHJcblx0XHRcdFx0cHJldmlld1Bob3RvLmlubmVySFRNTCA9IGA8aW1nIHNyYz1cIiR7ZS50YXJnZXQucmVzdWx0fVwiIGFsdD1cIlBob3RvXCIgc3R5bGU9XCJtYXgtd2lkdGg6IDE1MHB4OyBtYXgtaGVpZ2h0OiAxNTBweDsgbWFyZ2luLWJvdHRvbTogMjBweDsgYm9yZGVyLXJhZGl1czogNTAlOyBvdmVyZmxvdzogaGlkZGVuO1wiPmA7XHJcblx0XHRcdH07XHJcblx0XHRcdHJlYWRlci5yZWFkQXNEYXRhVVJMKGZpbGUpO1xyXG5cdFx0fVxyXG5cdH0pO1xyXG5cclxuLy8gT24gZG9jdW1lbnQgbG9hZCwgaGFuZGxlIGltYWdlIFVSTCBmb3IgYmFja2dyb3VuZFxyXG4vLyBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdET01Db250ZW50TG9hZGVkJywgKCkgPT4ge1xyXG4vLyBcdGRvY3VtZW50XHJcbi8vIFx0XHQuZ2V0RWxlbWVudEJ5SWQoJ3NhdmUtY3YnKVxyXG4vLyBcdFx0LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgZnVuY3Rpb24gKGV2ZW50KSB7XHJcbi8vIFx0XHRcdGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XHJcblxyXG4vLyBcdFx0XHRjb25zb2xlLmxvZygnS2xpa25pxJljaWUgemFyZWplc3Ryb3dhbmUhJyk7XHJcblxyXG4vLyBcdFx0XHRjb25zdCBjdkNvbnRlbnQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnY3YtcHJldmlldycpLm91dGVySFRNTDtcclxuLy8gXHRcdFx0Y29uc29sZS5sb2coJ1BvYnJhbnkgSFRNTDonLCBjdkNvbnRlbnQpO1xyXG5cclxuLy8gXHRcdFx0Y29uc3QgZm9ybURhdGEgPSBuZXcgRm9ybURhdGEoKTtcclxuLy8gXHRcdFx0Zm9ybURhdGEuYXBwZW5kKFxyXG4vLyBcdFx0XHRcdCdjdkNvbnRlbnQnLFxyXG4vLyBcdFx0XHRcdG5ldyBCbG9iKFtjdkNvbnRlbnRdLCB7IHR5cGU6ICd0ZXh0L2h0bWwnIH0pXHJcbi8vIFx0XHRcdCk7XHJcbi8vIFx0XHRcdGZvcm1EYXRhLmFwcGVuZCgndXNlcklkJywgc2Vzc2lvblN0b3JhZ2UuZ2V0SXRlbSgndXNlcklkJykpOyAvLyBVxbx5d2FqIGBnZXRJdGVtYCBkbyBwb2JyYW5pYSB3YXJ0b8WbY2lcclxuXHJcbi8vIFx0XHRcdGlmICh1cGxvYWRlZFBob3RvKSB7XHJcbi8vIFx0XHRcdFx0Zm9ybURhdGEuYXBwZW5kKCdwaG90bycsIHVwbG9hZGVkUGhvdG8pOyAvLyBEb2RhbmllIHByemVzxYJhbmVnbyB6ZGrEmWNpYSBkbyBGb3JtRGF0YVxyXG4vLyBcdFx0XHR9XHJcblxyXG4vLyBcdFx0XHRjb25zb2xlLmxvZygnUm96cG9jenluYW5pZSBmZXRjaC4uLicpO1xyXG5cclxuLy8gXHRcdFx0ZmV0Y2goJ2h0dHA6Ly9sb2NhbGhvc3Q6ODA4MC9hcGkvY3ZmaWxlL3VwbG9hZFBkZicsIHtcclxuLy8gXHRcdFx0XHRtZXRob2Q6ICdQT1NUJyxcclxuLy8gXHRcdFx0XHRib2R5OiBmb3JtRGF0YSxcclxuLy8gXHRcdFx0fSlcclxuLy8gXHRcdFx0XHQudGhlbigocmVzcG9uc2UpID0+IHtcclxuLy8gXHRcdFx0XHRcdGNvbnNvbGUubG9nKCdGZXRjaCB6YWtvxYRjem9ueS4gU3RhdHVzIG9kcG93aWVkemk6JywgcmVzcG9uc2Uuc3RhdHVzKTtcclxuXHJcbi8vIFx0XHRcdFx0XHRpZiAoIXJlc3BvbnNlLm9rKSB7XHJcbi8vIFx0XHRcdFx0XHRcdGNvbnNvbGUuZXJyb3IoJ0ZldGNoIGVycm9yOicsIHJlc3BvbnNlKTtcclxuLy8gXHRcdFx0XHRcdFx0cmV0dXJuIHJlc3BvbnNlLnRleHQoKS50aGVuKChlcnJvclRleHQpID0+IHtcclxuLy8gXHRcdFx0XHRcdFx0XHR0aHJvdyBuZXcgRXJyb3IoZXJyb3JUZXh0KTtcclxuLy8gXHRcdFx0XHRcdFx0fSk7XHJcbi8vIFx0XHRcdFx0XHR9XHJcblxyXG4vLyBcdFx0XHRcdFx0cmV0dXJuIHJlc3BvbnNlLnRleHQoKTsgLy8gUG9iaWVyeiBvZHBvd2llZMW6IGpha28gdGVrc3RcclxuLy8gXHRcdFx0XHR9KVxyXG4vLyBcdFx0XHRcdC50aGVuKCh0ZXh0KSA9PiB7XHJcbi8vIFx0XHRcdFx0XHRjb25zb2xlLmxvZygnT2Rwb3dpZWTFuiBzZXJ3ZXJhOicsIHRleHQpO1xyXG5cclxuLy8gXHRcdFx0XHRcdC8vIFBhcnNvd2FuaWUgb2Rwb3dpZWR6aSBqYWtvIEpTT04sIGplxZtsaSBvZHBvd2llZMW6IGplc3QgdyBmb3JtYWNpZSBKU09OXHJcbi8vIFx0XHRcdFx0XHR0cnkge1xyXG4vLyBcdFx0XHRcdFx0XHRjb25zdCBkYXRhID0gSlNPTi5wYXJzZSh0ZXh0KTtcclxuXHJcbi8vIFx0XHRcdFx0XHRcdC8vIFNwcmF3ZMW6LCBjenkgb2Rwb3dpZWTFuiB6YXdpZXJhIGBjdkZpbGVJZGAgaSB6YXBpc3ogZG8gYHNlc3Npb25TdG9yYWdlYFxyXG4vLyBcdFx0XHRcdFx0XHRpZiAoZGF0YS5jdkZpbGVJZCkge1xyXG4vLyBcdFx0XHRcdFx0XHRcdHNlc3Npb25TdG9yYWdlLnNldEl0ZW0oJ2N2RmlsZUlkJywgZGF0YS5jdkZpbGVJZCk7XHJcbi8vIFx0XHRcdFx0XHRcdFx0Y29uc29sZS5sb2coJ2N2RmlsZUlkIHphcGlzYW55IHcgc2Vzc2lvblN0b3JhZ2U6JywgZGF0YS5jdkZpbGVJZCk7XHJcbi8vIFx0XHRcdFx0XHRcdH1cclxuLy8gXHRcdFx0XHRcdH0gY2F0Y2ggKGUpIHtcclxuLy8gXHRcdFx0XHRcdFx0Y29uc29sZS5lcnJvcignQsWCxIVkIHBhcnNvd2FuaWEgb2Rwb3dpZWR6aTonLCBlKTtcclxuLy8gXHRcdFx0XHRcdH1cclxuXHJcbi8vIFx0XHRcdFx0XHRhbGVydCgnQ1Ygc2F2ZWQgc3VjY2Vzc2Z1bGx5IScpO1xyXG4vLyBcdFx0XHRcdFx0Ly8gUG8gemFwaXNhbml1IENWIG5hIHNlcndlcnplLCBwcnpla2llcm93YW5pZSBkbyB0cnplY2llZ28ga3Jva3VcclxuLy8gXHRcdFx0XHRcdHdpbmRvdy5sb2NhdGlvbi5ocmVmID0gJ3RoaXJkc3RlcC5odG1sJztcclxuLy8gXHRcdFx0XHR9KVxyXG4vLyBcdFx0XHRcdC5jYXRjaCgoZXJyb3IpID0+IHtcclxuLy8gXHRcdFx0XHRcdGNvbnNvbGUuZXJyb3IoJ0LFgsSFZCBwb2RjemFzIHByemV0d2FyemFuaWEgb2Rwb3dpZWR6aTonLCBlcnJvcik7XHJcbi8vIFx0XHRcdFx0XHRhbGVydCgnV3lzdMSFcGnFgiBixYLEhWQgcG9kY3phcyB6YXBpc3l3YW5pYSBDVjogJyArIGVycm9yLm1lc3NhZ2UpO1xyXG4vLyBcdFx0XHRcdH0pO1xyXG4vLyBcdFx0fSk7XHJcbi8vIH0pO1xyXG5cclxuZnVuY3Rpb24gZ2V0UGFyYW1ldGVyQnlOYW1lKG5hbWUpIHtcclxuXHRjb25zdCB1cmxQYXJhbXMgPSBuZXcgVVJMU2VhcmNoUGFyYW1zKHdpbmRvdy5sb2NhdGlvbi5zZWFyY2gpO1xyXG5cdHJldHVybiB1cmxQYXJhbXMuZ2V0KG5hbWUpO1xyXG59XHJcbmRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ0RPTUNvbnRlbnRMb2FkZWQnLCBmdW5jdGlvbiAoKSB7XHJcblx0Ly8gT2Rjenl0YWogd3licmFueSBzemFibG9uIHogbG9jYWxTdG9yYWdlXHJcblx0Y29uc3Qgc2VsZWN0ZWRUZW1wbGF0ZSA9IGxvY2FsU3RvcmFnZS5nZXRJdGVtKCdzZWxlY3RUZW1wbGF0ZScpO1xyXG5cclxuXHQvLyBaYcWCYWR1aiBvZHBvd2llZG5pIHBsaWsgQ1NTIGx1YiBkb2RhaiBvZHBvd2llZG5pxIUga2xhc8SZIGRvIGVsZW1lbnR1IC5jdi1wcmV2aWV3XHJcblx0aWYgKHNlbGVjdGVkVGVtcGxhdGUpIHtcclxuXHRcdGNvbnN0IGN2UHJldmlld0VsZW1lbnQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuY3YtcHJldmlldycpO1xyXG5cclxuXHRcdHN3aXRjaCAoc2VsZWN0ZWRUZW1wbGF0ZSkge1xyXG5cdFx0XHRjYXNlICdjdi1jbGFzc2ljJzpcclxuXHRcdFx0XHRjdlByZXZpZXdFbGVtZW50LmNsYXNzTGlzdC5hZGQoJ2N2LWNsYXNzaWMtc3R5bGUnKTtcclxuXHJcblx0XHRcdFx0Ly8gWm5hamTFuiBpc3RuaWVqxIVjZSBlbGVtZW50eVxyXG5cdFx0XHRcdGNvbnN0IGZpcnN0TmFtZSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdwcmV2aWV3LWZpcnN0LW5hbWUnKTtcclxuXHRcdFx0XHRjb25zdCBsYXN0TmFtZSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdwcmV2aWV3LWxhc3QtbmFtZScpO1xyXG5cdFx0XHRcdGNvbnN0IGpvYlRpdGxlID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3ByZXZpZXctam9iLXRpdGxlJyk7XHJcblxyXG5cdFx0XHRcdC8vIFR3b3J6ZW5pZSBwZXJzb25hbC1pbmZvLWJveGVzIGkgcHJ6ZW5pZXNpZW5pZSBkbyBuaWVnbyBlbGVtZW50w7N3XHJcblx0XHRcdFx0Y29uc3QgcGVyc29uYWxJbmZvQm94ZXMgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcclxuXHRcdFx0XHRwZXJzb25hbEluZm9Cb3hlcy5jbGFzc0xpc3QuYWRkKCdwZXJzb25hbC1pbmZvLWJveGVzJyk7XHJcblxyXG5cdFx0XHRcdGlmIChqb2JUaXRsZSAmJiBmaXJzdE5hbWUgJiYgbGFzdE5hbWUpIHtcclxuXHRcdFx0XHRcdC8vIFByemVub3N6ZW5pZSBlbGVtZW50w7N3IGRvIHBlcnNvbmFsLWluZm8tYm94ZXNcclxuXHRcdFx0XHRcdHBlcnNvbmFsSW5mb0JveGVzLmFwcGVuZENoaWxkKGpvYlRpdGxlKTtcclxuXHRcdFx0XHRcdHBlcnNvbmFsSW5mb0JveGVzLmFwcGVuZENoaWxkKGZpcnN0TmFtZSk7XHJcblx0XHRcdFx0XHRwZXJzb25hbEluZm9Cb3hlcy5hcHBlbmRDaGlsZChsYXN0TmFtZSk7XHJcblxyXG5cdFx0XHRcdFx0Ly8gRG9kYW5pZSBwZXJzb25hbC1pbmZvLWJveGVzIG5hIGfDs3J6ZSBjdi1wcmV2aWV3XHJcblx0XHRcdFx0XHRjdlByZXZpZXdFbGVtZW50LnByZXBlbmQocGVyc29uYWxJbmZvQm94ZXMpO1xyXG5cdFx0XHRcdH1cclxuXHJcblx0XHRcdFx0Ly8gVHdvcnplbmllIHBlcnNvbmFsLWRhdGEtYm94XHJcblx0XHRcdFx0Y29uc3QgcGVyc29uYWxEYXRhQm94ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XHJcblx0XHRcdFx0cGVyc29uYWxEYXRhQm94LmNsYXNzTGlzdC5hZGQoJ3BlcnNvbmFsLWRhdGEtYm94ZXMnKTtcclxuXHJcblx0XHRcdFx0Ly8gRGVmaW5pY2plIHNla2NqaSB6IGlrb25hbWkgRm9udCBBd2Vzb21lIChiZXogaW1pZW5pYSBpIG5hendpc2thKVxyXG5cdFx0XHRcdGNvbnN0IHNlY3Rpb25zID0gW1xyXG5cdFx0XHRcdFx0eyBpZDogJ3ByZXZpZXctZW1haWwnLCBpY29uOiAnZmEtZW52ZWxvcGUnIH0sXHJcblx0XHRcdFx0XHR7IGlkOiAncHJldmlldy1waG9uZScsIGljb246ICdmYS1waG9uZScgfSxcclxuXHRcdFx0XHRcdHsgaWQ6ICdwcmV2aWV3LWNpdHknLCBpY29uOiAnZmEtY2l0eScgfSxcclxuXHRcdFx0XHRcdHsgaWQ6ICdwcmV2aWV3LXBvc3RhbC1jb2RlJywgaWNvbjogJ2ZhLW1hcC1tYXJrZXItYWx0JyB9LFxyXG5cdFx0XHRcdF07XHJcblxyXG5cdFx0XHRcdC8vIERvZGF3YW5pZSBzZWtjamkgZG8gcGVyc29uYWxEYXRhQm94XHJcblx0XHRcdFx0c2VjdGlvbnMuZm9yRWFjaCgoc2VjdGlvbikgPT4ge1xyXG5cdFx0XHRcdFx0Y29uc3Qgc2VjdGlvbkVsZW1lbnQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChzZWN0aW9uLmlkKTtcclxuXHRcdFx0XHRcdGlmIChzZWN0aW9uRWxlbWVudCkge1xyXG5cdFx0XHRcdFx0XHRjb25zdCBpY29uRWxlbWVudCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2knKTtcclxuXHRcdFx0XHRcdFx0aWNvbkVsZW1lbnQuY2xhc3NMaXN0LmFkZCgnZmEnLCBzZWN0aW9uLmljb24pO1xyXG5cdFx0XHRcdFx0XHRzZWN0aW9uRWxlbWVudC5jbGFzc0xpc3QuYWRkKCdwZXJzb25hbC1kYXRhLWJveCcpO1xyXG5cdFx0XHRcdFx0XHRzZWN0aW9uRWxlbWVudC5wcmVwZW5kKGljb25FbGVtZW50KTtcclxuXHRcdFx0XHRcdFx0cGVyc29uYWxEYXRhQm94LmFwcGVuZENoaWxkKHNlY3Rpb25FbGVtZW50KTtcclxuXHRcdFx0XHRcdH1cclxuXHRcdFx0XHR9KTtcclxuXHJcblx0XHRcdFx0Ly8gVW1pZXN6Y3plbmllIHBlcnNvbmFsLWRhdGEtYm94IHphIHNla2NqxIUgcHJldmlldy1zdW1tYXJ5XHJcblx0XHRcdFx0Y29uc3QgcHJldmlld1N1bW1hcnkgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgncHJldmlldy1zdW1tYXJ5Jyk7XHJcblx0XHRcdFx0aWYgKHByZXZpZXdTdW1tYXJ5KSB7XHJcblx0XHRcdFx0XHRwcmV2aWV3U3VtbWFyeS5pbnNlcnRBZGphY2VudEVsZW1lbnQoJ2FmdGVyZW5kJywgcGVyc29uYWxEYXRhQm94KTtcclxuXHRcdFx0XHR9XHJcblxyXG5cdFx0XHRcdC8vIFR3b3J6ZW5pZSBtYWluLWJveCBpIHByemVuaWVzaWVuaWUgZG8gbmllZ28gbWFpbi1ib3gtbGVmdCBpIG1haW4tYm94LXJpZ2h0XHJcblx0XHRcdFx0Y29uc3QgbWFpbkJveCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xyXG5cdFx0XHRcdG1haW5Cb3guY2xhc3NMaXN0LmFkZCgnbWFpbi1ib3gnKTtcclxuXHJcblx0XHRcdFx0Ly8gVHdvcnplbmllIG1haW4tYm94LWxlZnQgaSBwcnplbmllc2llbmllIG9kcG93aWVkbmljaCBzZWtjamlcclxuXHRcdFx0XHRjb25zdCBtYWluQm94TGVmdCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xyXG5cdFx0XHRcdG1haW5Cb3hMZWZ0LmNsYXNzTGlzdC5hZGQoJ21haW4tYm94LWxlZnQnKTtcclxuXHJcblx0XHRcdFx0Y29uc3Qgc2VjdGlvbnNMZWZ0ID0gW1xyXG5cdFx0XHRcdFx0J3ByZXZpZXctc3VtbWFyeScsXHJcblx0XHRcdFx0XHQncHJldmlldy1lZHVjYXRpb24nLFxyXG5cdFx0XHRcdFx0J3ByZXZpZXctc2tpbGxzJyxcclxuXHRcdFx0XHRcdCdwcmV2aWV3LWNvdXJzZXMnLFxyXG5cdFx0XHRcdF07XHJcblxyXG5cdFx0XHRcdHNlY3Rpb25zTGVmdC5mb3JFYWNoKChpZCkgPT4ge1xyXG5cdFx0XHRcdFx0Y29uc3Qgc2VjdGlvbkVsZW1lbnQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChpZCk7XHJcblx0XHRcdFx0XHRpZiAoc2VjdGlvbkVsZW1lbnQpIHtcclxuXHRcdFx0XHRcdFx0bWFpbkJveExlZnQuYXBwZW5kQ2hpbGQoc2VjdGlvbkVsZW1lbnQpO1xyXG5cdFx0XHRcdFx0fVxyXG5cdFx0XHRcdH0pO1xyXG5cclxuXHRcdFx0XHQvLyBEb2RhbmllIG1haW4tYm94LWxlZnQgZG8gbWFpbi1ib3hcclxuXHRcdFx0XHRtYWluQm94LmFwcGVuZENoaWxkKG1haW5Cb3hMZWZ0KTtcclxuXHJcblx0XHRcdFx0Ly8gVHdvcnplbmllIG1haW4tYm94LXJpZ2h0IGkgcHJ6ZW5pZXNpZW5pZSBvZHBvd2llZG5pY2ggc2VrY2ppXHJcblx0XHRcdFx0Y29uc3QgbWFpbkJveFJpZ2h0ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XHJcblx0XHRcdFx0bWFpbkJveFJpZ2h0LmNsYXNzTGlzdC5hZGQoJ21haW4tYm94LXJpZ2h0Jyk7XHJcblxyXG5cdFx0XHRcdGNvbnN0IHNlY3Rpb25zUmlnaHQgPSBbJ3ByZXZpZXctbGFuZ3VhZ2VzJywgJ3ByZXZpZXctaG9iYmllcyddO1xyXG5cclxuXHRcdFx0XHRzZWN0aW9uc1JpZ2h0LmZvckVhY2goKGlkKSA9PiB7XHJcblx0XHRcdFx0XHRjb25zdCBzZWN0aW9uRWxlbWVudCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGlkKTtcclxuXHRcdFx0XHRcdGlmIChzZWN0aW9uRWxlbWVudCkge1xyXG5cdFx0XHRcdFx0XHRtYWluQm94UmlnaHQuYXBwZW5kQ2hpbGQoc2VjdGlvbkVsZW1lbnQpO1xyXG5cdFx0XHRcdFx0fVxyXG5cdFx0XHRcdH0pO1xyXG5cclxuXHRcdFx0XHQvLyBEb2RhbmllIG1haW4tYm94LXJpZ2h0IGRvIG1haW4tYm94XHJcblx0XHRcdFx0bWFpbkJveC5hcHBlbmRDaGlsZChtYWluQm94UmlnaHQpO1xyXG5cclxuXHRcdFx0XHQvLyBEb2RhbmllIG1haW4tYm94IGRvIGN2LXByZXZpZXdcclxuXHRcdFx0XHRjdlByZXZpZXdFbGVtZW50LmFwcGVuZENoaWxkKG1haW5Cb3gpO1xyXG5cclxuXHRcdFx0XHRicmVhaztcclxuXHRcdFx0Y2FzZSAnY3YtbW9kZXJuJzpcclxuXHRcdFx0XHRjdlByZXZpZXdFbGVtZW50LmNsYXNzTGlzdC5hZGQoJ2N2LW1vZGVybi1zdHlsZScpO1xyXG5cclxuXHRcdFx0XHQvLyBEb2RhaiBzZWtjasSZIG5hIHpkasSZY2lhXHJcblx0XHRcdFx0Y29uc3QgcGhvdG9zU2VjdGlvbiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xyXG5cdFx0XHRcdHBob3Rvc1NlY3Rpb24uY2xhc3NMaXN0LmFkZCgncGhvdG9zLXNlY3Rpb24nKTtcclxuXHJcblx0XHRcdFx0Ly8gVXR3w7NyeiBjenRlcnkgZWxlbWVudHkgaW1nIGRsYSB6ZGrEmcSHXHJcblx0XHRcdFx0Zm9yIChsZXQgaSA9IDE7IGkgPD0gNDsgaSsrKSB7XHJcblx0XHRcdFx0XHRjb25zdCBwaG90byA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2ltZycpO1xyXG5cdFx0XHRcdFx0cGhvdG8uc3JjID0gYC4vZGlzdC9pbWcvJHtpfS5wbmdgOyAvLyBVc3RhdyDFm2NpZcW8a8SZIGRvIHpkasSZxIdcclxuXHRcdFx0XHRcdHBob3RvLmNsYXNzTGlzdC5hZGQoYHBob3RvLSR7aX1gKTtcclxuXHRcdFx0XHRcdHBob3RvLmNsYXNzTGlzdC5hZGQoYHBob3RvYCk7XHJcblx0XHRcdFx0XHRwaG90by5hbHQgPSBgWmRqxJljaWUgJHtpfWA7IC8vIERvZGFqIHRla3N0IGFsdGVybmF0eXdueVxyXG5cdFx0XHRcdFx0cGhvdG9zU2VjdGlvbi5hcHBlbmRDaGlsZChwaG90byk7XHJcblx0XHRcdFx0fVxyXG5cclxuXHRcdFx0XHQvLyBEb2RhaiBzZWtjasSZIHpkasSZxIcgZG8gY3YtcHJldmlld1xyXG5cdFx0XHRcdGN2UHJldmlld0VsZW1lbnQucHJlcGVuZChwaG90b3NTZWN0aW9uKTtcclxuXHJcblx0XHRcdFx0Ly8gRG9kYWogaW5uZSBzZWtjamUgZGxhIGN2LW1vZGVyblxyXG5cdFx0XHRcdGNvbnN0IHBlcnNvbmFsSW5mb0JveGVzTW9kZXJuID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XHJcblx0XHRcdFx0cGVyc29uYWxJbmZvQm94ZXNNb2Rlcm4uY2xhc3NMaXN0LmFkZCgncGVyc29uYWwtaW5mby1ib3hlcy1tb2Rlcm4nKTtcclxuXHJcblx0XHRcdFx0Y29uc3QgZmlyc3ROYW1lTW9kZXJuID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3ByZXZpZXctZmlyc3QtbmFtZScpO1xyXG5cdFx0XHRcdGNvbnN0IGxhc3ROYW1lTW9kZXJuID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3ByZXZpZXctbGFzdC1uYW1lJyk7XHJcblx0XHRcdFx0Y29uc3Qgam9iVGl0bGVNb2Rlcm4gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgncHJldmlldy1qb2ItdGl0bGUnKTtcclxuXHJcblx0XHRcdFx0aWYgKGpvYlRpdGxlTW9kZXJuICYmIGZpcnN0TmFtZU1vZGVybiAmJiBsYXN0TmFtZU1vZGVybikge1xyXG5cdFx0XHRcdFx0cGVyc29uYWxJbmZvQm94ZXNNb2Rlcm4uYXBwZW5kQ2hpbGQoam9iVGl0bGVNb2Rlcm4pO1xyXG5cdFx0XHRcdFx0cGVyc29uYWxJbmZvQm94ZXNNb2Rlcm4uYXBwZW5kQ2hpbGQoZmlyc3ROYW1lTW9kZXJuKTtcclxuXHRcdFx0XHRcdHBlcnNvbmFsSW5mb0JveGVzTW9kZXJuLmFwcGVuZENoaWxkKGxhc3ROYW1lTW9kZXJuKTtcclxuXHJcblx0XHRcdFx0XHRjdlByZXZpZXdFbGVtZW50LnByZXBlbmQocGVyc29uYWxJbmZvQm94ZXNNb2Rlcm4pO1xyXG5cdFx0XHRcdH1cclxuXHJcblx0XHRcdFx0Ly8gVHdvcnplbmllIHBlcnNvbmFsLWRhdGEtYm94IGRsYSBtb2Rlcm5cclxuXHRcdFx0XHRjb25zdCBwZXJzb25hbERhdGFCb3hNb2Rlcm4gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcclxuXHRcdFx0XHRwZXJzb25hbERhdGFCb3hNb2Rlcm4uY2xhc3NMaXN0LmFkZCgncGVyc29uYWwtZGF0YS1ib3hlcy1tb2Rlcm4nKTtcclxuXHJcblx0XHRcdFx0Y29uc3Qgc2VjdGlvbnNNb2Rlcm4gPSBbXHJcblx0XHRcdFx0XHR7IGlkOiAncHJldmlldy1lbWFpbCcsIGljb246ICdmYS1lbnZlbG9wZScgfSxcclxuXHRcdFx0XHRcdHsgaWQ6ICdwcmV2aWV3LXBob25lJywgaWNvbjogJ2ZhLXBob25lJyB9LFxyXG5cdFx0XHRcdFx0eyBpZDogJ3ByZXZpZXctY2l0eScsIGljb246ICdmYS1jaXR5JyB9LFxyXG5cdFx0XHRcdFx0eyBpZDogJ3ByZXZpZXctcG9zdGFsLWNvZGUnLCBpY29uOiAnZmEtbWFwLW1hcmtlci1hbHQnIH0sXHJcblx0XHRcdFx0XTtcclxuXHJcblx0XHRcdFx0c2VjdGlvbnNNb2Rlcm4uZm9yRWFjaCgoc2VjdGlvbikgPT4ge1xyXG5cdFx0XHRcdFx0Y29uc3Qgc2VjdGlvbkVsZW1lbnQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChzZWN0aW9uLmlkKTtcclxuXHRcdFx0XHRcdGlmIChzZWN0aW9uRWxlbWVudCkge1xyXG5cdFx0XHRcdFx0XHRjb25zdCBpY29uRWxlbWVudCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2knKTtcclxuXHRcdFx0XHRcdFx0aWNvbkVsZW1lbnQuY2xhc3NMaXN0LmFkZCgnZmEnLCBzZWN0aW9uLmljb24pO1xyXG5cdFx0XHRcdFx0XHRzZWN0aW9uRWxlbWVudC5jbGFzc0xpc3QuYWRkKCdwZXJzb25hbC1kYXRhLWJveC1tb2Rlcm4nKTtcclxuXHRcdFx0XHRcdFx0c2VjdGlvbkVsZW1lbnQucHJlcGVuZChpY29uRWxlbWVudCk7XHJcblx0XHRcdFx0XHRcdHBlcnNvbmFsRGF0YUJveE1vZGVybi5hcHBlbmRDaGlsZChzZWN0aW9uRWxlbWVudCk7XHJcblx0XHRcdFx0XHR9XHJcblx0XHRcdFx0fSk7XHJcblxyXG5cdFx0XHRcdGNvbnN0IHByZXZpZXdTdW1tYXJ5TW9kZXJuID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3ByZXZpZXctc3VtbWFyeScpO1xyXG5cdFx0XHRcdGlmIChwcmV2aWV3U3VtbWFyeU1vZGVybikge1xyXG5cdFx0XHRcdFx0cHJldmlld1N1bW1hcnlNb2Rlcm4uaW5zZXJ0QWRqYWNlbnRFbGVtZW50KFxyXG5cdFx0XHRcdFx0XHQnYWZ0ZXJlbmQnLFxyXG5cdFx0XHRcdFx0XHRwZXJzb25hbERhdGFCb3hNb2Rlcm5cclxuXHRcdFx0XHRcdCk7XHJcblx0XHRcdFx0fVxyXG5cclxuXHRcdFx0XHRjb25zdCBtYWluQm94TW9kZXJuID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XHJcblx0XHRcdFx0bWFpbkJveE1vZGVybi5jbGFzc0xpc3QuYWRkKCdtYWluLWJveC1tb2Rlcm4nKTtcclxuXHJcblx0XHRcdFx0Y29uc3QgbWFpbkJveExlZnRNb2Rlcm4gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcclxuXHRcdFx0XHRtYWluQm94TGVmdE1vZGVybi5jbGFzc0xpc3QuYWRkKCdtYWluLWJveC1sZWZ0LW1vZGVybicpO1xyXG5cclxuXHRcdFx0XHRjb25zdCBzZWN0aW9uc0xlZnRNb2Rlcm4gPSBbXHJcblx0XHRcdFx0XHQncHJldmlldy1zdW1tYXJ5JyxcclxuXHRcdFx0XHRcdCdwcmV2aWV3LWVkdWNhdGlvbicsXHJcblx0XHRcdFx0XHQncHJldmlldy1za2lsbHMnLFxyXG5cdFx0XHRcdFx0J3ByZXZpZXctY291cnNlcycsXHJcblx0XHRcdFx0XTtcclxuXHJcblx0XHRcdFx0c2VjdGlvbnNMZWZ0TW9kZXJuLmZvckVhY2goKGlkKSA9PiB7XHJcblx0XHRcdFx0XHRjb25zdCBzZWN0aW9uRWxlbWVudCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGlkKTtcclxuXHRcdFx0XHRcdGlmIChzZWN0aW9uRWxlbWVudCkge1xyXG5cdFx0XHRcdFx0XHRtYWluQm94TGVmdE1vZGVybi5hcHBlbmRDaGlsZChzZWN0aW9uRWxlbWVudCk7XHJcblx0XHRcdFx0XHR9XHJcblx0XHRcdFx0fSk7XHJcblxyXG5cdFx0XHRcdG1haW5Cb3hNb2Rlcm4uYXBwZW5kQ2hpbGQobWFpbkJveExlZnRNb2Rlcm4pO1xyXG5cclxuXHRcdFx0XHRjb25zdCBtYWluQm94UmlnaHRNb2Rlcm4gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcclxuXHRcdFx0XHRtYWluQm94UmlnaHRNb2Rlcm4uY2xhc3NMaXN0LmFkZCgnbWFpbi1ib3gtcmlnaHQtbW9kZXJuJyk7XHJcblxyXG5cdFx0XHRcdGNvbnN0IHNlY3Rpb25zUmlnaHRNb2Rlcm4gPSBbJ3ByZXZpZXctbGFuZ3VhZ2VzJywgJ3ByZXZpZXctaG9iYmllcyddO1xyXG5cclxuXHRcdFx0XHRzZWN0aW9uc1JpZ2h0TW9kZXJuLmZvckVhY2goKGlkKSA9PiB7XHJcblx0XHRcdFx0XHRjb25zdCBzZWN0aW9uRWxlbWVudCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGlkKTtcclxuXHRcdFx0XHRcdGlmIChzZWN0aW9uRWxlbWVudCkge1xyXG5cdFx0XHRcdFx0XHRtYWluQm94UmlnaHRNb2Rlcm4uYXBwZW5kQ2hpbGQoc2VjdGlvbkVsZW1lbnQpO1xyXG5cdFx0XHRcdFx0fVxyXG5cdFx0XHRcdH0pO1xyXG5cclxuXHRcdFx0XHRtYWluQm94TW9kZXJuLmFwcGVuZENoaWxkKG1haW5Cb3hSaWdodE1vZGVybik7XHJcblxyXG5cdFx0XHRcdGN2UHJldmlld0VsZW1lbnQuYXBwZW5kQ2hpbGQobWFpbkJveE1vZGVybik7XHJcblxyXG5cdFx0XHRcdGJyZWFrO1xyXG5cdFx0XHRjYXNlICdjdi1jcmVhdGl2ZSc6XHJcblx0XHRcdFx0Y3ZQcmV2aWV3RWxlbWVudC5jbGFzc0xpc3QuYWRkKCdjdi1jcmVhdGl2ZS1zdHlsZScpO1xyXG5cclxuXHRcdFx0XHQvLyBUd29yemVuaWUgZGl2YSBvcGFrb3d1asSFY2VnbyBpbWnEmSwgbmF6d2lza28gaSBqb2IgdGl0bGVcclxuXHRcdFx0XHRjb25zdCBwZXJzb25hbEluZm9DcmVhdGl2ZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xyXG5cdFx0XHRcdHBlcnNvbmFsSW5mb0NyZWF0aXZlLmNsYXNzTGlzdC5hZGQoJ3BlcnNvbmFsLWluZm8tY3JlYXRpdmUnKTtcclxuXHJcblx0XHRcdFx0Y29uc3QgZmlyc3ROYW1lQ3JlYXRpdmUgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgncHJldmlldy1maXJzdC1uYW1lJyk7XHJcblx0XHRcdFx0Y29uc3QgbGFzdE5hbWVDcmVhdGl2ZSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdwcmV2aWV3LWxhc3QtbmFtZScpO1xyXG5cdFx0XHRcdGNvbnN0IGpvYlRpdGxlQ3JlYXRpdmUgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgncHJldmlldy1qb2ItdGl0bGUnKTtcclxuXHJcblx0XHRcdFx0aWYgKGpvYlRpdGxlQ3JlYXRpdmUgJiYgZmlyc3ROYW1lQ3JlYXRpdmUgJiYgbGFzdE5hbWVDcmVhdGl2ZSkge1xyXG5cdFx0XHRcdFx0cGVyc29uYWxJbmZvQ3JlYXRpdmUuYXBwZW5kQ2hpbGQoam9iVGl0bGVDcmVhdGl2ZSk7XHJcblx0XHRcdFx0XHRwZXJzb25hbEluZm9DcmVhdGl2ZS5hcHBlbmRDaGlsZChmaXJzdE5hbWVDcmVhdGl2ZSk7XHJcblx0XHRcdFx0XHRwZXJzb25hbEluZm9DcmVhdGl2ZS5hcHBlbmRDaGlsZChsYXN0TmFtZUNyZWF0aXZlKTtcclxuXHJcblx0XHRcdFx0XHQvLyBEb2RhbmllIHBlcnNvbmFsLWluZm8tY3JlYXRpdmUgZG8gbWFpbi1ib3gtbGVmdFxyXG5cdFx0XHRcdH1cclxuXHJcblx0XHRcdFx0Ly8gVHdvcnplbmllIGRpdmEgb3Bha293dWrEhWNlZ28gc2VrY2plIHogaWtvbmthbWlcclxuXHRcdFx0XHRjb25zdCBwZXJzb25hbERhdGFCb3hDcmVhdGl2ZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xyXG5cdFx0XHRcdHBlcnNvbmFsRGF0YUJveENyZWF0aXZlLmNsYXNzTGlzdC5hZGQoJ3BlcnNvbmFsLWRhdGEtYm94LWNyZWF0aXZlJyk7XHJcblxyXG5cdFx0XHRcdGNvbnN0IHNlY3Rpb25zQ3JlYXRpdmUgPSBbXHJcblx0XHRcdFx0XHR7IGlkOiAncHJldmlldy1lbWFpbCcsIGljb246ICdmYS1lbnZlbG9wZScgfSxcclxuXHRcdFx0XHRcdHsgaWQ6ICdwcmV2aWV3LXBob25lJywgaWNvbjogJ2ZhLXBob25lJyB9LFxyXG5cdFx0XHRcdFx0eyBpZDogJ3ByZXZpZXctY2l0eScsIGljb246ICdmYS1jaXR5JyB9LFxyXG5cdFx0XHRcdFx0eyBpZDogJ3ByZXZpZXctcG9zdGFsLWNvZGUnLCBpY29uOiAnZmEtbWFwLW1hcmtlci1hbHQnIH0sXHJcblx0XHRcdFx0XTtcclxuXHJcblx0XHRcdFx0c2VjdGlvbnNDcmVhdGl2ZS5mb3JFYWNoKChzZWN0aW9uKSA9PiB7XHJcblx0XHRcdFx0XHRjb25zdCBzZWN0aW9uRWxlbWVudCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKHNlY3Rpb24uaWQpO1xyXG5cdFx0XHRcdFx0aWYgKHNlY3Rpb25FbGVtZW50KSB7XHJcblx0XHRcdFx0XHRcdGNvbnN0IGljb25FbGVtZW50ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnaScpO1xyXG5cdFx0XHRcdFx0XHRpY29uRWxlbWVudC5jbGFzc0xpc3QuYWRkKCdmYScsIHNlY3Rpb24uaWNvbik7XHJcblx0XHRcdFx0XHRcdHNlY3Rpb25FbGVtZW50LmNsYXNzTGlzdC5hZGQoJ3BlcnNvbmFsLWRhdGEtYm94LWNyZWF0aXZlLWl0ZW0nKTtcclxuXHRcdFx0XHRcdFx0c2VjdGlvbkVsZW1lbnQucHJlcGVuZChpY29uRWxlbWVudCk7XHJcblx0XHRcdFx0XHRcdHBlcnNvbmFsRGF0YUJveENyZWF0aXZlLmFwcGVuZENoaWxkKHNlY3Rpb25FbGVtZW50KTtcclxuXHRcdFx0XHRcdH1cclxuXHRcdFx0XHR9KTtcclxuXHJcblx0XHRcdFx0Ly8gVHdvcnplbmllIG1haW4tYm94LWxlZnQgaSBkb2RhbmllIG9kcG93aWVkbmljaCBzZWtjamlcclxuXHRcdFx0XHRjb25zdCBtYWluQm94TGVmdENyZWF0aXZlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XHJcblx0XHRcdFx0bWFpbkJveExlZnRDcmVhdGl2ZS5jbGFzc0xpc3QuYWRkKCdtYWluLWJveC1sZWZ0LWNyZWF0aXZlJyk7XHJcblxyXG5cdFx0XHRcdC8vIERvZGFuaWUgcGVyc29uYWwtaW5mby1jcmVhdGl2ZSBkbyBtYWluLWJveC1sZWZ0XHJcblx0XHRcdFx0bWFpbkJveExlZnRDcmVhdGl2ZS5hcHBlbmRDaGlsZChwZXJzb25hbEluZm9DcmVhdGl2ZSk7XHJcblxyXG5cdFx0XHRcdC8vIFNla2NqZSBkbyBtYWluLWJveC1sZWZ0XHJcblx0XHRcdFx0Y29uc3Qgc2VjdGlvbnNMZWZ0Q3JlYXRpdmUgPSBbXHJcblx0XHRcdFx0XHQncHJldmlldy1zdW1tYXJ5JywgLy8gUG9kc3Vtb3dhbmllIHphd29kb3dlXHJcblx0XHRcdFx0XHQncHJldmlldy1lZHVjYXRpb24nLCAvLyBXeWtzenRhxYJjZW5pZVxyXG5cdFx0XHRcdFx0J3ByZXZpZXctc2tpbGxzJywgLy8gVW1pZWrEmXRub8WbY2lcclxuXHRcdFx0XHRdO1xyXG5cclxuXHRcdFx0XHRzZWN0aW9uc0xlZnRDcmVhdGl2ZS5mb3JFYWNoKChpZCkgPT4ge1xyXG5cdFx0XHRcdFx0Y29uc3Qgc2VjdGlvbkVsZW1lbnQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChpZCk7XHJcblx0XHRcdFx0XHRpZiAoc2VjdGlvbkVsZW1lbnQpIHtcclxuXHRcdFx0XHRcdFx0bWFpbkJveExlZnRDcmVhdGl2ZS5hcHBlbmRDaGlsZChzZWN0aW9uRWxlbWVudCk7XHJcblx0XHRcdFx0XHR9XHJcblx0XHRcdFx0fSk7XHJcblxyXG5cdFx0XHRcdC8vIFR3b3J6ZW5pZSBtYWluLWJveC1yaWdodCBpIGRvZGFuaWUgb2Rwb3dpZWRuaWNoIHNla2NqaVxyXG5cdFx0XHRcdGNvbnN0IG1haW5Cb3hSaWdodENyZWF0aXZlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XHJcblx0XHRcdFx0bWFpbkJveFJpZ2h0Q3JlYXRpdmUuY2xhc3NMaXN0LmFkZCgnbWFpbi1ib3gtcmlnaHQtY3JlYXRpdmUnKTtcclxuXHJcblx0XHRcdFx0Ly8gTmFqcGllcncgZG9kYW5pZSBwZXJzb25hbERhdGFCb3hDcmVhdGl2ZSBuYSBnw7NyemUgbWFpbi1ib3gtcmlnaHRcclxuXHRcdFx0XHRtYWluQm94UmlnaHRDcmVhdGl2ZS5hcHBlbmRDaGlsZChwZXJzb25hbERhdGFCb3hDcmVhdGl2ZSk7XHJcblxyXG5cdFx0XHRcdC8vIFNla2NqZSBkbyBtYWluLWJveC1yaWdodFxyXG5cdFx0XHRcdGNvbnN0IHNlY3Rpb25zUmlnaHRDcmVhdGl2ZSA9IFtcclxuXHRcdFx0XHRcdCdwcmV2aWV3LWNvdXJzZXMnLCAvLyBLdXJzeSBpIGNlcnR5ZmlrYXR5XHJcblx0XHRcdFx0XHQncHJldmlldy1sYW5ndWFnZXMnLCAvLyBKxJl6eWtpXHJcblx0XHRcdFx0XHQncHJldmlldy1ob2JiaWVzJywgLy8gSG9iYnlcclxuXHRcdFx0XHRdO1xyXG5cclxuXHRcdFx0XHRzZWN0aW9uc1JpZ2h0Q3JlYXRpdmUuZm9yRWFjaCgoaWQpID0+IHtcclxuXHRcdFx0XHRcdGNvbnN0IHNlY3Rpb25FbGVtZW50ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoaWQpO1xyXG5cdFx0XHRcdFx0aWYgKHNlY3Rpb25FbGVtZW50KSB7XHJcblx0XHRcdFx0XHRcdG1haW5Cb3hSaWdodENyZWF0aXZlLmFwcGVuZENoaWxkKHNlY3Rpb25FbGVtZW50KTtcclxuXHRcdFx0XHRcdH1cclxuXHRcdFx0XHR9KTtcclxuXHJcblx0XHRcdFx0Ly8gRG9kYW5pZSBtYWluLWJveC1sZWZ0IGkgbWFpbi1ib3gtcmlnaHQgYmV6cG/Fm3JlZG5pbyBkbyBjdi1jcmVhdGl2ZS1zdHlsZVxyXG5cdFx0XHRcdGN2UHJldmlld0VsZW1lbnQuYXBwZW5kQ2hpbGQobWFpbkJveExlZnRDcmVhdGl2ZSk7XHJcblx0XHRcdFx0Y3ZQcmV2aWV3RWxlbWVudC5hcHBlbmRDaGlsZChtYWluQm94UmlnaHRDcmVhdGl2ZSk7XHJcblxyXG5cdFx0XHRcdGJyZWFrO1xyXG5cdFx0fVxyXG5cdH1cclxufSk7XHJcbiJdfQ==
